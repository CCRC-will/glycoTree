<!DOCTYPE html>
<html>
<head>
<TITLE>Glycan API Test</TITLE>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
	
	
function getData(type, accession) {
	var thisURL = window.location;
	var urlBase = thisURL.protocol + "//" + thisURL.host + "/" + thisURL.pathname.split('/')[1];
	var url = urlBase + "/api/glycan-v3.php?ac=" + accession;
	var msg = "<p><b>API for this query (GET method):</b><br>" + url + "</p>";

	$.get("glycan-v3.php",
	{
		ac: accession
	},
	function(result){
		$("#result_div").html(msg + "<pre>" + result + "</pre>");
	})
	.done(function() {
		// alert( "yes, success" );
	})
	.fail(function() {
		alert( "error retrieving data for " +  accession);
	})
	.always(function() {
		// alert( "finished" );
	});
}
	

$(document).ready(function(){
	
	$("#get_json").click(function() {
		var accession = $("#acc").val();
		getData("json", accession);
	});
	
});	

	
</script>
	
</head>
<body>
<h2>Test glycotree Glycan API</h2>
<!-- don't use html form -->
<label for="acc">GlyTouCan Accession: </label>
<input type="text" id="acc" name="acc" value="G99533GU">
<button id="get_json">Get JSON</button>
	
<h3>Requested Data</h3>
<div id="result_div"></div>
	
</body>
</html>
