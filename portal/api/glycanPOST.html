<!DOCTYPE html>
<html>
<head>
<TITLE>Glycan API Test</TITLE>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
	
	
function getData(type, accession) {
	// Do not make a separate 'glycan' directory
	// Put php files for API here and use .htaccess to redirect from fake directories
	$.post("glycan/index.php",
	{
		ac: accession,
		type: type
	},
	function(result){
		// alert( "success" );
		$("#result_div").html("<h3>type is " + type + "; accession is " +
		   accession + "</h3><pre>" + result + "</pre>");
	})
	.done(function() {
		// alert( "yes, success" );
	})
	.fail(function() {
		alert( "error retrieving data for " +  accession);
	})
	.always(function() {
		// alert( "finished" );
	});
}
	

$(document).ready(function(){
	
	$("#get_json").click(function() {
		var accession = $("#acc").val();
		getData("json", accession);
	});
	
	$("#get_svg").click(function() {
		var accession = $("#acc").val();
		getData("svg", accession);
	});
	
});	

	
</script>
	
</head>
<body>
<h2>Test glycotree Glycan API</h2>
<!-- don't use html form -->
<label for="acc">GlyTouCan Accession: </label>
<input type="text" id="acc" name="acc">
<button id="get_json">Get JSON</button>
<button id="get_svg">Get SVG</button>
	
<h3>HTTP POST - Returned Data</h3>
<div id="result_div"></div>
	
</body>
</html>