<!DOCTYPE html>
<html xmlns:xlink="http://www.w3.org/1999/xlink">
<head>
<meta charset="utf-8">
<title>GlycoTree Sandbox Pathway</title>

<!-- load js -->
<link rel="icon" href="svg/sbSmall.svg" type="image/icon type">
<script src="js/sbheader.js"></script>
<script src="https://d3js.org/d3.v4.js"></script>
<script src="js/jquery-3.5.1.min.js"></script>
<script src="js/renderPaths.js"></script>
<!-- load a color palette for rendering the nodes -->
<script src="js/palette-1.js"></script>
<link rel="stylesheet" type="text/css" href="css/paths.css">

<script>
var dataPath = "api/paths/getpathD3v4.php";
var subURL = "https://gnome.glyomics.org/restrictions/GlyGen.StructureBrowser.html?focus";
var glygenURL = "https://www.glygen.org/glycan/";
var exploreURL = "explore.html?"
	
// Specify text for messages
var helpMessage = "<center>" +
	"<h3>Click or Hover Over Data</h3>" +
	"</center><ul>" +
	"<li>Toggle this help text: <i>click the 'Toggle Help' button</i></li>" +
	"<li>View path statistics: <i>click the 'Statistics' button</i></li>" +
	"<li>See a structure: <i>mouse over its accession</i></li>" +
	"<li>Focus on a structure: <i>click its accession</i></li>" +
	"<li>Unset focus: <i>click the accession that is in focus</i></li>" +
	"<li>Get more information about a structure: <i>click an icon</i></li>" +
	"<li>See a reaction: <i>mouse over an arc</i></li>" +
	"<li>See reaction details: <i>click an arc</i></li>" +
	"<li>Force the path to go through specific structures: <i>select structures using checkboxes</i><br>For each (color-coded) DP, only one structure can be checked</li>" +
	"<li>Visualize the path through selected structures: <i>click the 'Path' button</i></li>" +
	"<ul>";
	
var pathMsg = "<center><b>Reactions involving selected structures <br>are combined to generate a unique pathway</b></center><ul>";
	pathMsg += "<li><i>You must select structures that are 'linked' to each other; the pathway is truncated at any selected structure that is not linked to the next selected structure.</i></li>";
	pathMsg += "<li>Pathways start with first selected structure - all structures you want to see in the path must be selected.</li>";
	pathMsg += "<li>Full pathways are drawn on a new page.</li>";
	pathMsg += "<li>In this version, '<i>smart pathway selection</i>' automatically selects structures that have the highest 'pathway entropy'.  You can  manually override these automatic selections using the checkboxes.</li>";
	pathMsg += "</ul><b>Currently selected reactions</b>";
	
var rowShading = ['#FAFAFA', '#EAF0FA'];
var nodeShading = ['#2F78B7', '#B76E2F'];
	
</script>
	
</head>

 <body onload="initialize()"> 
	 
 <div id="progressDiv">
	<center>
		<img id="spinner" src="svg/logogogo3.svg">
	</center>
 </div>
	 

	 
 <div id="headerDiv">
	 <a href="https://glygen.org" target="_blank">
	  <span class='header_1'>GlyGen</span>
	 </a>
   <object id="logo_svg" type="image/svg+xml" data="svg/sbLogo.svg" class="headLogo"></object>
	<span class='header_2'>SandBox Pathway</span>

 <!--
	 <ul class='navTop'>
		<li class='navLi'><a href="javascript:showStats();">Statistics</a></li>
		<li class='navLi'><a href="#news">Toggle Help</a></li>
		<li class="dropdown">
		<a href="javascript:void(0)" class="dropbtn">Pathway</a>
		<div class="dropdown-content">
			<a href="#">ab initio</a>
			<a href="#">clear</a>
			<a href="#">disable assist</a>
		</div>
		</li>
	 </ul>
-->
 </div>
<!--
 <ul >  
	<li ><a href="javascript:showStats();">Statistics</a></li>
	<li ><a href="#news">Toggle Help</a></li>
	<li class="dropdown">
		<a href="javascript:void(0)" class="dropbtn">Pathway</a>
		<div class="dropdown-content">
			<a href="#">ab initio</a>
			<a href="#">clear</a>
			<a href="#">disable assist</a>
		</div>
	</li>
</ul>
-->

<!--
   
	<button type='button' id="toggleHelp" style="position:absolute; right: 165px; top: 20px;">
		Toggle Help
	</button>
	<button type='button' onclick='showStats()' style="position:absolute; right: 85px; top: 20px;">
		Statistics
	</button>
	<button type='button' id="pathButton" style="position:absolute; right: 30px; top: 20px;">
		Path
	</button>
-->
	
<div id="pathgraph"  class="arcGraph">
</div>

<div class="details" id="results">
	<center><h3>Move the mouse over the data</h3></center>
</div>

 <div id="navDiv">
	 <span class="navSpan" id="statsButton">Statistics</span>
	 <span class="navSpan" id="toggleHelpButton">Toggle Help</span>
	 <div class="navSpan navDown"> Pathways
		 <ul class="navContent">
			<li id="pathButton">Render Path</li>
			<li id="showPathwayMessage">Show Path</li>
			<li id="abinitButton">Most Likely</li>
			<li id="clearButton">Clear Selections</li>
			<li id="toggleAssistButton">Disable Auto-Select</li>
		 </ul>
	 </div>
 </div>
	 
</body>
	
</html>